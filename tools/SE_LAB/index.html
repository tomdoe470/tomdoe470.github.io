<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RedOps Portal - Tactical Dashboard</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel para traducir JSX en el navegador -->
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    
    <style>
        /* Personalización de scrollbar para estilo Cyberpunk */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-slideUp {
            animation: slideUp 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-950 text-slate-200 h-screen overflow-hidden">
    <div id="root" class="h-full"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        
        // --- ICON SYSTEM (INLINE SVG) ---
        const IconBase = ({ children, className = "", ...props }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width="24" 
                height="24" 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className} 
                {...props}
            >
                {children}
            </svg>
        );

        const Icons = {
            Shield: (props) => <IconBase {...props}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></IconBase>,
            Search: (props) => <IconBase {...props}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></IconBase>,
            Brain: (props) => <IconBase {...props}><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></IconBase>,
            MessageSquare: (props) => <IconBase {...props}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></IconBase>,
            Smartphone: (props) => <IconBase {...props}><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></IconBase>,
            Eye: (props) => <IconBase {...props}><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></IconBase>,
            MapPin: (props) => <IconBase {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconBase>,
            Terminal: (props) => <IconBase {...props}><polyline points="4 17 10 11 4 5"/><line x1="12" x2="20" y1="19" y2="19"/></IconBase>,
            Lock: (props) => <IconBase {...props}><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></IconBase>,
            Activity: (props) => <IconBase {...props}><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></IconBase>,
            User: (props) => <IconBase {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></IconBase>,
            Globe: (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></IconBase>,
            AlertTriangle: (props) => <IconBase {...props}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></IconBase>,
            CheckCircle: (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconBase>,
            XCircle: (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></IconBase>,
            Menu: (props) => <IconBase {...props}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></IconBase>,
            Crosshair: (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><line x1="22" x2="18" y1="12" y2="12"/><line x1="6" x2="2" y1="12" y2="12"/><line x1="12" x2="12" y1="6" y2="2"/><line x1="12" x2="12" y1="22" y2="18"/></IconBase>,
            FileText: (props) => <IconBase {...props}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><polyline points="10 9 9 9 8 9"/></IconBase>,
            Wifi: (props) => <IconBase {...props}><path d="M12 20h.01"/><path d="M2 8.82a15 15 0 0 1 20 0"/><path d="M5 12.859a10 10 0 0 1 14 0"/><path d="M8.5 16.429a5 5 0 0 1 7 0"/></IconBase>,
            ChevronRight: (props) => <IconBase {...props}><path d="m9 18 6-6-6-6"/></IconBase>,
            Database: (props) => <IconBase {...props}><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></IconBase>,
            Fingerprint: (props) => <IconBase {...props}><path d="M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 6"/><path d="M5 15.1a1 1 0 0 0 1.4 1.4l1-1"/><path d="M18.4 12.8a2.5 2.5 0 0 0-2.6-2.6l-1.3.1"/><path d="M11.9 19.3a4.4 4.4 0 0 1-2.3-2.3"/><path d="M12 12a4 4 0 0 1 1.6-7.5"/><path d="M16 19.5a5.5 5.5 0 0 0 3.3-3.6"/><path d="M16.5 15.7a11.1 11.1 0 0 1-5.7.5"/><path d="M5.5 9a9 9 0 0 1 12 0"/><path d="M15 15.1a3 3 0 0 1-3.9.7"/><path d="M20.5 10a11.5 11.5 0 0 0-2.2-6.5"/></IconBase>,
            Copy: (props) => <IconBase {...props}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></IconBase>,
            Zap: (props) => <IconBase {...props}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" /></IconBase>,
            Scale: (props) => <IconBase {...props}><path d="m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/><path d="m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/><path d="M7 21h10"/><path d="M12 3v18"/><path d="M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"/></IconBase>
        };

        // --- DATA & CONFIGURATION ---

        const APT_SCENARIOS = {
            dreamjob: {
                title: "OPERACIÓN: DREAM JOB",
                group: "Lazarus Group",
                description: "Objetivo: Infiltrar un Senior Dev de una plataforma Crypto.",
                steps: [
                {
                    id: 1,
                    text: "INTELIGENCIA: El objetivo es activo en LinkedIn y GitHub. Busca 'nuevos retos' pero es paranoico con archivos adjuntos. ¿Cuál es tu vector de aproximación?",
                    options: [
                    { text: "Enviar DM directo en LinkedIn con oferta salarial absurda (2x mercado).", next: 2, outcome: "suspicious" },
                    { text: "Crear perfil de Recruiter falso, interactuar 2 semanas con sus posts, luego contacto.", next: 3, outcome: "good" }
                    ]
                },
                {
                    id: 2,
                    text: "FRACASO DE MISIÓN. El objetivo detectó la oferta como 'demasiado buena para ser verdad'. Te bloqueó. Lección: Los pretextos deben ser plausibles.",
                    options: [
                    { text: "Reiniciar Misión", next: 1, outcome: "reset" }
                    ]
                },
                {
                    id: 3,
                    text: "ÉXITO FASE 1. Has establecido rapport. El objetivo confía en ti. Te pide detalles técnicos del puesto. ¿Qué envías?",
                    options: [
                    { text: "Un PDF con la 'Descripción del Puesto' (Infectado con Troyano).", next: 4, outcome: "blocked" },
                    { text: "Un enlace a un repositorio GitHub privado con una 'Prueba de Código'.", next: 5, outcome: "win" }
                    ]
                },
                {
                    id: 4,
                    text: "FRACASO. El antivirus del objetivo detectó el payload en el PDF. Quemaste la infraestructura.",
                    options: [{ text: "Reiniciar Misión", next: 1, outcome: "reset" }]
                },
                {
                    id: 5,
                    text: "¡MISIÓN CUMPLIDA! El objetivo clonó el repo y ejecutó 'npm install'. Tu script malicioso en el package.json se ejecutó. Acceso inicial conseguido. TTP Clásico de Lazarus.",
                    options: [{ text: "Volver al Menú", next: 0, outcome: "reset" }]
                }
                ]
            }
        };

        const DISC_DATA = {
            D: { title: "Dominante", color: "text-red-500", border: "border-red-500", desc: "Directo, orientado a resultados, impaciente.", strat: "Sé breve, ve al grano, ofrece soluciones rápidas.", tactics: "Autoridad, Urgencia" },
            I: { title: "Influyente", color: "text-yellow-400", border: "border-yellow-400", desc: "Sociable, entusiasta, optimista, habla mucho.", strat: "Déjalo hablar, sé amigable, usa el humor.", tactics: "Liking, Reciprocidad" },
            S: { title: "Estable", color: "text-green-400", border: "border-green-400", desc: "Paciente, leal, buen oyente, teme al cambio.", strat: "Transmite seguridad, garantías y calma. No presiones.", tactics: "Cooperación, Consistencia" },
            C: { title: "Concienzudo", color: "text-blue-400", border: "border-blue-400", desc: "Analítico, preciso, sigue reglas, escéptico.", strat: "Usa datos, lógica, cita normas y procedimientos.", tactics: "Claridad, Credenciales" }
        };

        const BIASES = [
            { title: "Autoridad", desc: "Obediencia a figuras superiores o expertos.", trigger: "Uniforme, Rol TI, Auditor" },
            { title: "Reciprocidad", desc: "Necesidad de devolver favores.", trigger: "Dar información/ayuda primero" },
            { title: "Compromiso", desc: "Mantener coherencia con actos previos.", trigger: "Foot-in-the-door" },
            { title: "Escasez/Urgencia", desc: "Miedo a perder tiempo o recurso.", trigger: "Límites de tiempo, plazos" },
            { title: "Liking (Afinidad)", desc: "Confianza en quienes nos agradan.", trigger: "Similitud, Halagos, Rapport" },
            { title: "Prueba Social", desc: "Hacer lo que otros hacen.", trigger: "'Otros ya lo aprobaron'" }
        ];

        // --- COMPONENTS ---

        const DashboardCard = ({ title, icon: Icon, value, subtext, color = "red" }) => (
            <div className={`bg-slate-900/50 border border-slate-700 p-4 rounded-lg backdrop-blur-sm hover:border-${color}-500/50 transition-all`}>
                <div className="flex justify-between items-start mb-2">
                <h3 className="text-slate-400 text-sm font-mono uppercase">{title}</h3>
                <Icon className={`w-5 h-5 text-${color}-500`} />
                </div>
                <div className="text-2xl font-bold text-white mb-1">{value}</div>
                <div className="text-xs text-slate-500 font-mono">{subtext}</div>
            </div>
        );

        const ProgressBar = ({ label, value, color = "blue" }) => (
            <div className="mb-3">
                <div className="flex justify-between text-xs font-mono mb-1">
                <span className="text-slate-300">{label}</span>
                <span className={`text-${color}-400`}>{value}%</span>
                </div>
                <div className="w-full bg-slate-800 h-2 rounded-full overflow-hidden">
                <div 
                    className={`h-full bg-${color}-500 transition-all duration-1000 ease-out`} 
                    style={{ width: `${value}%` }}
                ></div>
                </div>
            </div>
        );

        const TerminalLine = ({ text, delay = 0 }) => {
            const [show, setShow] = useState(false);
            useEffect(() => {
                const timer = setTimeout(() => setShow(true), delay);
                return () => clearTimeout(timer);
            }, [delay]);

            if (!show) return null;
            return <div className="text-green-500 font-mono text-xs mb-1 animate-pulse">&gt; {text}</div>;
        };

        const DorkCard = ({ query, label }) => {
            const [copied, setCopied] = useState(false);
            
            const handleCopy = () => {
                const textArea = document.createElement("textarea");
                textArea.value = query;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                } catch (err) {
                    console.error('Fallback copy failed', err);
                }
                document.body.removeChild(textArea);
            };

            return (
                <div className="bg-slate-900 border border-slate-700 rounded p-3 hover:border-blue-500 transition-colors group relative">
                    <div className="text-xs text-slate-500 font-mono mb-1 uppercase tracking-wider">{label}</div>
                    <code className="text-sm text-green-400 font-mono break-all block mb-2 cursor-text select-all">{query}</code>
                    <button 
                        onClick={handleCopy}
                        className="absolute top-2 right-2 text-slate-600 hover:text-white transition-colors"
                        title="Copiar Dork"
                    >
                        {copied ? <Icons.CheckCircle className="w-4 h-4 text-green-500" /> : <Icons.Copy className="w-4 h-4" />}
                    </button>
                </div>
            );
        };

        const InfoCard = ({ title, children, color="blue" }) => (
            <div className={`p-5 bg-slate-900/80 border border-slate-800 rounded-lg hover:border-${color}-500/30 transition-colors h-full`}>
                <h3 className={`text-white font-bold mb-3 flex items-center`}>
                    <div className={`w-1 h-4 bg-${color}-500 mr-2 rounded-full`}></div>
                    {title}
                </h3>
                <div className="text-sm text-slate-400 leading-relaxed">
                    {children}
                </div>
            </div>
        );

        function RedOpsPortal() {
            const [activeModule, setActiveModule] = useState(0);
            const [sidebarOpen, setSidebarOpen] = useState(true);
            const [defcon, setDefcon] = useState(4);
            
            // OSINT States
            const [osintTarget, setOsintTarget] = useState({ name: '', company: '', password: '' });
            const [scanning, setScanning] = useState(false);
            const [scanComplete, setScanComplete] = useState(false);
            const [showOsintTool, setShowOsintTool] = useState(false); 

            // Psychology States
            const [psychTab, setPsychTab] = useState('cognition');

            // Vishing States
            const [vishingStep, setVishingStep] = useState(0);
            const [rapport, setRapport] = useState(15);
            const [suspicion, setSuspicion] = useState(40);

            // APT Simulation States
            const [aptStep, setAptStep] = useState(1);
            const [missionLog, setMissionLog] = useState([]);

            // Helper para generar Dorks
            const generateDorks = () => {
                const { name, company, password } = osintTarget;
                const dorks = [];

                if (company) {
                    dorks.push({
                        category: "Google - Empresa / Organización",
                        icon: Icons.Database,
                        items: [
                            { label: "Archivos Sensibles", query: `site:${company} ext:txt OR ext:log OR ext:cfg OR ext:ini "password"` },
                            { label: "Uso Interno", query: `site:${company} "confidential" OR "internal use only"` },
                            { label: "Directory Listing", query: `site:*.${company} "index of" "backup" OR "db"` },
                            { label: "API Keys", query: `site:${company} "API key"` },
                            { label: "Github Leaks", query: `site:github.com "${company}" "password"` },
                            { label: "Gitlab Tokens", query: `site:gitlab.com "${company}" "token"` },
                            { label: "Pastebin Leaks", query: `site:pastebin.com "${company}"` },
                            { label: "Subdominios Admin", query: `site:*.${company} -www "login" OR intitle:"admin"` },
                            { label: "PHP Info", query: `site:${company} "phpinfo()"` }
                        ]
                    });
                }

                if (name) {
                    dorks.push({
                        category: "Google - Persona (Target Humano)",
                        icon: Icons.User,
                        items: [
                            { label: "Password Leak", query: `"${name}" "password"` },
                            { label: "Email Corporativo", query: `"${name}" "@${company || 'empresa.com'}"` },
                            { label: "Documentos PDF", query: `"${name}" filetype:pdf` },
                            { label: "Curriculum/CV", query: `"${name}" "curriculum"` },
                            { label: "Github User", query: `"${name}" "github"` },
                            { label: "Slides / Presentaciones", query: `"${name}" "slidedeck"` }
                        ]
                    });
                }

                if (password) {
                    dorks.push({
                        category: "Análisis de Contraseña (Leak Check)",
                        icon: Icons.Lock,
                        items: [
                            { label: "Leak Exacto", query: `"${password}"` },
                            { label: "Leak + Email", query: `"${password}" "@${company || 'empresa.com'}"` },
                            { label: "Dump Database", query: `"${password}" "database leak"` },
                            { label: "Hash Dump", query: `"${password}" "hash" OR "dump"` },
                            { label: "Pastebin Dump", query: `"${password}" "pastebin"` }
                        ]
                    });
                }

                if (company) {
                     dorks.push({
                        category: "Shodan & Infraestructura",
                        icon: Icons.Globe,
                        items: [
                            { label: "Organización Shodan", query: `org:"${company}"` },
                            { label: "Certificados SSL", query: `ssl.cert.subject.cn:"${company}"` },
                            { label: "Título HTTP", query: `http.title:"${company}"` },
                            { label: "Cookies Expuestas", query: `"Set-Cookie: PHPSESSID" OR "Set-Cookie: phpMyAdmin"` },
                            { label: "Elasticsearch", query: `"X-elastic-product: Elasticsearch"` },
                            { label: "Kibana", query: `"kbn-name: kibana"` }
                        ]
                    });
                }

                if (company) {
                     dorks.push({
                        category: "Motores Alternativos & Paste Sites",
                        icon: Icons.Activity,
                        items: [
                            { label: "Bing/Yandex Leak", query: `"${company}" "password" OR "key" OR "backup"` },
                            { label: "DB Dump General", query: `"${company}" "db dump"` },
                            { label: "Exfiltración Pastebin", query: `site:pastebin.com "${company}" "password" OR "dump"` },
                            { label: "Repositorios Dev", query: `"${company}" "dev" OR "staging" site:github.com` }
                        ]
                    });
                }

                return dorks;
            };

            const startScan = () => {
                if (!osintTarget.name && !osintTarget.company && !osintTarget.password) return;
                setScanning(true);
                setScanComplete(false);
                setTimeout(() => {
                setScanning(false);
                setScanComplete(true);
                }, 1500);
            };

            const modules = [
                { id: 0, name: "Estrategia", icon: Icons.Shield, short: "M0" },
                { id: 1, name: "OSINT", icon: Icons.Search, short: "M1" },
                { id: 2, name: "Psicología", icon: Icons.Brain, short: "M2" },
                { id: 3, name: "Pretexting", icon: Icons.FileText, short: "M3" },
                { id: 4, name: "Vectores", icon: Icons.Smartphone, short: "M4" },
                { id: 5, name: "No-Verbal", icon: Icons.Eye, short: "M5" },
                { id: 6, name: "Físico", icon: Icons.MapPin, short: "M6" },
                { id: 7, name: "Simulación APT", icon: Icons.Terminal, short: "M7" },
            ];

            // --- RENDER CONTENT ---

            const renderModuleContent = () => {
                switch (activeModule) {
                case 0: // Estrategia
                    return (
                    <div className="space-y-6 animate-fadeIn">
                        <div className="relative h-64 rounded-xl overflow-hidden border border-red-900/50 group">
                        <div className="absolute inset-0 bg-gradient-to-r from-slate-900 via-slate-900/80 to-transparent z-10"></div>
                        <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
                        <div className="absolute inset-0 bg-red-900/10 mix-blend-overlay"></div>
                        
                        <div className="relative z-20 p-8 h-full flex flex-col justify-center">
                            <h1 className="text-4xl font-bold text-white mb-2 tracking-tight">Marco Estratégico <span className="text-red-500">Red Team</span></h1>
                            <p className="text-slate-300 max-w-xl mb-6">
                            La emulación de adversarios no es pentesting. Es el arte de desafiar las capacidades de detección y respuesta de una organización mediante TTPs reales.
                            </p>
                            <div className="flex space-x-4">
                            <button onClick={() => setActiveModule(7)} className="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded font-mono text-sm transition-colors flex items-center">
                                <Icons.Terminal className="w-4 h-4 mr-2" />
                                Iniciar Simulación
                            </button>
                            </div>
                        </div>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <DashboardCard title="Red Team vs Pentesting" icon={Icons.Crosshair} value="Enfoque" subtext="Objetivos vs Vulnerabilidades" color="red" />
                        <DashboardCard title="Automatización y OSINT" icon={Icons.Database} value="75%" subtext="Eficiencia de Scraping" color="purple" />
                        <DashboardCard title="Ética y RoE" icon={Icons.Lock} value="Activo" subtext="Reglas de Compromiso" color="yellow" />
                        </div>

                        <div className="p-6 bg-slate-900/50 border border-slate-800 rounded-lg">
                        <h3 className="text-white font-bold mb-4 flex items-center">
                            <Icons.Terminal className="w-5 h-5 mr-2 text-red-500"/>
                            Simulación de Adversarios Reciente
                        </h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div className="bg-slate-800 p-4 rounded border border-slate-700 opacity-60 hover:opacity-100 transition-opacity cursor-pointer">
                                <h4 className="text-blue-400 font-mono font-bold">APT29 (Cozy Bear)</h4>
                                <p className="text-xs text-slate-400 mt-2">Espionaje diplomático, sigiloso. Uso de servicios Cloud legítimos.</p>
                            </div>
                            <div className="bg-slate-800 p-4 rounded border border-slate-700 hover:border-red-500 transition-all cursor-pointer ring-1 ring-red-500/20">
                                <h4 className="text-red-400 font-mono font-bold">Lazarus Group</h4>
                                <p className="text-xs text-slate-400 mt-2">Motivación financiera, agresivo. Estafas de reclutamiento (Fake Jobs).</p>
                                <div className="mt-2 text-xs bg-red-900/30 text-red-300 inline-block px-2 py-1 rounded">Operación: Dream Job</div>
                            </div>
                            <div className="bg-slate-800 p-4 rounded border border-slate-700 opacity-60 hover:opacity-100 transition-opacity cursor-pointer">
                                <h4 className="text-green-400 font-mono font-bold">APT41 (Wicked Panda)</h4>
                                <p className="text-xs text-slate-400 mt-2">Espionaje + Crimen. Explotación masiva de vulnerabilidades web.</p>
                            </div>
                        </div>
                        </div>
                    </div>
                    );

                case 1: // OSINT
                    if (!showOsintTool) {
                        return (
                            <div className="h-full flex flex-col items-center justify-center animate-fadeIn max-w-5xl mx-auto text-center space-y-8 p-4">
                                <div className="relative group cursor-pointer" onClick={() => setShowOsintTool(true)}>
                                    <div className="absolute inset-0 bg-blue-500 blur-xl opacity-20 group-hover:opacity-40 transition-opacity rounded-full"></div>
                                    <div className="relative w-24 h-24 bg-slate-900 rounded-full flex items-center justify-center border-2 border-blue-500/50 group-hover:border-blue-400 transition-colors mx-auto">
                                        <Icons.Search className="w-10 h-10 text-blue-400 group-hover:text-white transition-colors" />
                                    </div>
                                </div>
                                
                                <h1 className="text-4xl md:text-5xl font-bold text-white tracking-tight">
                                    Inteligencia de Fuentes Abiertas <span className="text-blue-500">(OSINT)</span>
                                </h1>
                                
                                <p className="text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed border-l-4 border-blue-900/50 pl-6 text-left font-mono">
                                    "La información es poder, pero solo si sabes dónde buscar. Antes de cualquier vector de ataque, el operador debe convertirse en la sombra de su objetivo."
                                </p>
                                
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-6 text-left max-w-4xl mx-auto mt-8 w-full">
                                    <div className="p-5 bg-slate-900/80 border border-slate-800 rounded-lg hover:border-blue-500/30 transition-colors group">
                                        <div className="bg-blue-900/20 w-10 h-10 rounded flex items-center justify-center mb-3 group-hover:bg-blue-900/40">
                                            <Icons.Eye className="w-5 h-5 text-blue-400"/> 
                                        </div>
                                        <h3 className="text-white font-bold mb-1">Reconocimiento Pasivo</h3>
                                        <p className="text-xs text-slate-500 leading-snug">Recolección de metadatos y huella digital sin contacto directo con el objetivo.</p>
                                    </div>
                                    <div className="p-5 bg-slate-900/80 border border-slate-800 rounded-lg hover:border-blue-500/30 transition-colors group">
                                        <div className="bg-purple-900/20 w-10 h-10 rounded flex items-center justify-center mb-3 group-hover:bg-purple-900/40">
                                            <Icons.Brain className="w-5 h-5 text-purple-400"/> 
                                        </div>
                                        <h3 className="text-white font-bold mb-1">Perfilado Psicológico</h3>
                                        <p className="text-xs text-slate-500 leading-snug">Análisis de rasgos de personalidad para adaptar vectores de ingeniería social.</p>
                                    </div>
                                    <div className="p-5 bg-slate-900/80 border border-slate-800 rounded-lg hover:border-blue-500/30 transition-colors group">
                                        <div className="bg-red-900/20 w-10 h-10 rounded flex items-center justify-center mb-3 group-hover:bg-red-900/40">
                                            <Icons.MapPin className="w-5 h-5 text-red-400"/> 
                                        </div>
                                        <h3 className="text-white font-bold mb-1">Mapeo de Superficie</h3>
                                        <p className="text-xs text-slate-500 leading-snug">Identificación de rutinas, relaciones y puntos débiles en la seguridad física o digital.</p>
                                    </div>
                                </div>

                                <button
                                    onClick={() => setShowOsintTool(true)}
                                    className="group relative inline-flex items-center justify-center px-8 py-4 font-mono font-bold text-white transition-all duration-200 bg-blue-600 font-lg rounded-lg hover:bg-blue-700 focus:outline-none ring-offset-2 focus:ring-2 mt-8"
                                >
                                    <span className="absolute inset-0 w-full h-full -mt-1 rounded-lg opacity-30 bg-gradient-to-b from-transparent via-transparent to-black"></span>
                                    <Icons.Terminal className="w-5 h-5 mr-3 group-hover:animate-pulse" />
                                    <span>DESPLEGAR CONSOLA DE BÚSQUEDA</span>
                                </button>
                            </div>
                        );
                    }

                    return (
                    <div className="grid grid-cols-1 lg:grid-cols-12 gap-6 h-full animate-fadeIn">
                        {/* Input Section */}
                        <div className="lg:col-span-4 space-y-6">
                            <button 
                                onClick={() => { setShowOsintTool(false); setScanComplete(false); setOsintTarget({name:'', company:'', password:''}); }} 
                                className="text-xs text-slate-500 hover:text-blue-400 flex items-center transition-colors mb-2"
                            >
                                <Icons.ChevronRight className="w-3 h-3 rotate-180 mr-1"/> Volver al Briefing
                            </button>
                            <div className="bg-slate-900 border border-slate-700 p-6 rounded-lg shadow-lg">
                                <h2 className="text-xl font-bold text-white mb-6 border-b border-slate-700 pb-2 flex justify-between items-center">
                                    TARGET INPUT
                                    <span className="text-xs text-blue-500 font-mono animate-pulse">SYSTEM READY</span>
                                </h2>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-xs font-mono text-slate-400 mb-1 flex justify-between">
                                            EMPRESA / DOMINIO <span className="text-slate-600 italic">Opcional</span>
                                        </label>
                                        <input 
                                            type="text" 
                                            value={osintTarget.company}
                                            onChange={(e) => setOsintTarget({...osintTarget, company: e.target.value})}
                                            placeholder="Ej: megacorp.com"
                                            className="w-full bg-slate-950 border border-slate-700 text-white px-4 py-2 rounded focus:border-red-500 focus:outline-none font-mono placeholder-slate-700"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-xs font-mono text-slate-400 mb-1 flex justify-between">
                                            NOMBRE DEL OBJETIVO <span className="text-slate-600 italic">Opcional</span>
                                        </label>
                                        <input 
                                            type="text" 
                                            value={osintTarget.name}
                                            onChange={(e) => setOsintTarget({...osintTarget, name: e.target.value})}
                                            placeholder="Ej: John Doe"
                                            className="w-full bg-slate-950 border border-slate-700 text-white px-4 py-2 rounded focus:border-red-500 focus:outline-none font-mono placeholder-slate-700"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-xs font-mono text-slate-400 mb-1 flex justify-between">
                                            CONTRASEÑA CONOCIDA <span className="text-slate-600 italic">Opcional</span>
                                        </label>
                                        <input 
                                            type="text" 
                                            value={osintTarget.password}
                                            onChange={(e) => setOsintTarget({...osintTarget, password: e.target.value})}
                                            placeholder="Ej: P@ssw0rd123!"
                                            className="w-full bg-slate-950 border border-slate-700 text-white px-4 py-2 rounded focus:border-red-500 focus:outline-none font-mono placeholder-slate-700"
                                        />
                                    </div>
                                    <button 
                                        onClick={startScan}
                                        disabled={!osintTarget.name && !osintTarget.company && !osintTarget.password}
                                        className={`w-full font-mono font-bold py-3 rounded flex justify-center items-center transition-all mt-4 ${
                                            (!osintTarget.name && !osintTarget.company && !osintTarget.password) 
                                            ? 'bg-slate-800 text-slate-500 cursor-not-allowed'
                                            : 'bg-red-600 hover:bg-red-700 text-white'
                                        }`}
                                    >
                                        {scanning ? <Icons.Activity className="animate-spin mr-2" /> : <Icons.Terminal className="mr-2" />}
                                        {scanning ? "GENERANDO VECTORES..." : "GENERAR DORKS"}
                                    </button>
                                </div>
                            </div>
                            
                             {/* Terminal Log Simulation */}
                            <div className="bg-black border border-slate-800 p-4 rounded-lg font-mono text-xs h-48 overflow-y-auto shadow-inner">
                                <div className="text-slate-500 mb-2">System Ready... Waiting for parameters...</div>
                                {scanning && (
                                <React.Fragment>
                                    <TerminalLine text="Iniciando motor de correlación..." delay={100} />
                                    {osintTarget.company && <TerminalLine text={`Cargando diccionarios para: ${osintTarget.company}`} delay={300} />}
                                    {osintTarget.name && <TerminalLine text={`Analizando huella digital de: ${osintTarget.name}`} delay={600} />}
                                    {osintTarget.password && <TerminalLine text={`Buscando patrones en leaks de contraseñas...`} delay={900} />}
                                    <TerminalLine text="Compilando vectores de búsqueda (Google/Shodan)..." delay={1200} />
                                </React.Fragment>
                                )}
                                {scanComplete && <div className="text-green-500 mt-2 font-bold">&gt;&gt; VECTORES GENERADOS EXITOSAMENTE.</div>}
                            </div>
                        </div>

                        {/* Results Section */}
                        <div className="lg:col-span-8 overflow-y-auto pr-2 pb-20">
                        {scanComplete ? (
                            <div className="space-y-6 animate-slideUp">
                                <div className="flex items-center justify-between border-b border-slate-800 pb-4">
                                    <h2 className="text-xl font-bold text-white flex items-center">
                                        <Icons.Crosshair className="w-6 h-6 mr-3 text-red-500" />
                                        VECTORES DE BÚSQUEDA ACTIVOS
                                    </h2>
                                    <span className="text-xs font-mono bg-slate-800 text-slate-300 px-2 py-1 rounded border border-slate-700">
                                        {generateDorks().reduce((acc, cat) => acc + cat.items.length, 0)} VECTORES
                                    </span>
                                </div>
                                
                                <div className="grid grid-cols-1 gap-6">
                                    {generateDorks().map((category, idx) => (
                                        <div key={idx} className="bg-slate-900/50 border border-slate-800 rounded-lg overflow-hidden">
                                            <div className="bg-slate-800/80 p-3 border-b border-slate-700 flex items-center">
                                                <category.icon className="w-4 h-4 mr-2 text-blue-400" />
                                                <h3 className="font-bold text-sm text-slate-200">{category.category}</h3>
                                            </div>
                                            <div className="p-4 grid grid-cols-1 md:grid-cols-2 gap-3">
                                                {category.items.map((item, i) => (
                                                    <DorkCard key={i} label={item.label} query={item.query} />
                                                ))}
                                            </div>
                                        </div>
                                    ))}
                                    {generateDorks().length === 0 && (
                                        <div className="p-8 text-center text-slate-500 border-2 border-dashed border-slate-800 rounded">
                                            <Icons.AlertTriangle className="w-12 h-12 mx-auto mb-2 opacity-50" />
                                            <p>No se generaron vectores. Ingresa al menos un parámetro.</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        ) : (
                            <div className="h-full flex flex-col items-center justify-center border-2 border-dashed border-slate-800 rounded-lg text-slate-600 bg-slate-900/20">
                                <div className="w-20 h-20 bg-slate-800 rounded-full flex items-center justify-center mb-6 animate-pulse">
                                    <Icons.Database className="w-10 h-10 text-slate-500" />
                                </div>
                                <h3 className="text-xl font-bold text-slate-500 mb-2">ESPERANDO PARÁMETROS</h3>
                                <p className="font-mono text-sm max-w-md text-center">Ingresa los datos del objetivo en el panel izquierdo para generar una matriz de búsqueda personalizada.</p>
                            </div>
                        )}
                        </div>
                    </div>
                    );

                case 2: // Psicología (Refactorizado)
                    return (
                        <div className="flex flex-col h-full animate-fadeIn">
                            {/* Navegación del Módulo */}
                            <div className="flex flex-wrap gap-2 mb-6 border-b border-slate-800 pb-4">
                                {['cognition', 'models', 'comm', 'training'].map((tab) => (
                                    <button
                                        key={tab}
                                        onClick={() => setPsychTab(tab)}
                                        className={`px-4 py-2 rounded text-sm font-mono font-bold transition-all ${
                                            psychTab === tab 
                                            ? 'bg-blue-600 text-white' 
                                            : 'bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white'
                                        }`}
                                    >
                                        {tab === 'cognition' && '1. Cognición y Sesgos'}
                                        {tab === 'models' && '2. Perfiles e Influencia'}
                                        {tab === 'comm' && '3. Comunicación'}
                                        {tab === 'training' && 'Entrenamiento Táctico'}
                                    </button>
                                ))}
                            </div>

                            <div className="flex-grow overflow-y-auto pr-2 pb-20">
                                {psychTab === 'cognition' && (
                                    <div className="space-y-8 animate-fadeIn">
                                        {/* Intro */}
                                        <div className="bg-slate-900 p-6 rounded-lg border-l-4 border-blue-500">
                                            <h2 className="text-2xl font-bold text-white mb-2">La Mente Humana como Superficie de Ataque</h2>
                                            <p className="text-slate-400">
                                                Para un operador de Red Team, la superficie cognitiva del target es tan explotable como un servidor vulnerable. 
                                                El objetivo no es "convencer con lógica", sino activar los sesgos correctos para bypassear el pensamiento crítico.
                                            </p>
                                        </div>

                                        {/* Kahneman */}
                                        <div>
                                            <h3 className="text-xl font-bold text-white mb-4 flex items-center">
                                                <Icons.Brain className="w-6 h-6 mr-2 text-purple-500" />
                                                Modelo Dual de Procesamiento (Kahneman)
                                            </h3>
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                                <div className="bg-red-900/10 border border-red-900/30 p-5 rounded-lg">
                                                    <div className="flex justify-between items-center mb-3">
                                                        <h4 className="text-red-400 font-bold text-lg">SISTEMA 1 (Rápido)</h4>
                                                        <Icons.Zap className="w-6 h-6 text-red-500" />
                                                    </div>
                                                    <ul className="text-sm text-slate-300 space-y-2 list-disc pl-4 marker:text-red-500">
                                                        <li>Emocional e intuitivo.</li>
                                                        <li>Opera por defecto (Ahorro de energía).</li>
                                                        <li>Vulnerable a urgencia y autoridad.</li>
                                                        <li><strong className="text-white">Objetivo del atacante:</strong> Mantener al target aquí.</li>
                                                    </ul>
                                                </div>
                                                <div className="bg-blue-900/10 border border-blue-900/30 p-5 rounded-lg">
                                                    <div className="flex justify-between items-center mb-3">
                                                        <h4 className="text-blue-400 font-bold text-lg">SISTEMA 2 (Lento)</h4>
                                                        <Icons.Scale className="w-6 h-6 text-blue-500" />
                                                    </div>
                                                    <ul className="text-sm text-slate-300 space-y-2 list-disc pl-4 marker:text-blue-500">
                                                        <li>Racional y analítico.</li>
                                                        <li>Requiere esfuerzo y atención.</li>
                                                        <li>Cuestiona y verifica.</li>
                                                        <li><strong className="text-white">Amenaza:</strong> Evitar que se active mediante ritmo rápido.</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Heuristicas */}
                                        <div>
                                            <h3 className="text-xl font-bold text-white mb-4">Heurísticas Clave (Atajos Mentales)</h3>
                                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                                <InfoCard title="Disponibilidad" color="yellow">
                                                    Juzgar probabilidad por facilidad de recuerdo. <br/><em className="text-slate-500">Uso: Citar eventos recientes de noticias o fraudes conocidos.</em>
                                                </InfoCard>
                                                <InfoCard title="Representatividad" color="yellow">
                                                    Si parece pato, es pato. <br/><em className="text-slate-500">Uso: Imitación visual perfecta de correos o roles corporativos.</em>
                                                </InfoCard>
                                                <InfoCard title="Anclaje" color="yellow">
                                                    La primera información condiciona todo. <br/><em className="text-slate-500">Uso: "Vengo de RRHH" (El cerebro ancla 'confianza interna').</em>
                                                </InfoCard>
                                                <InfoCard title="Framing (Encuadre)" color="yellow">
                                                    La presentación importa más que el dato. <br/><em className="text-slate-500">Uso: Enmarcar una intrusión como "ayuda de soporte".</em>
                                                </InfoCard>
                                                <InfoCard title="Efecto Halo" color="yellow">
                                                    Una cualidad positiva irradia a todo. <br/><em className="text-slate-500">Uso: Buena presencia y voz calmada = Persona honesta.</em>
                                                </InfoCard>
                                                <InfoCard title="Normalidad" color="yellow">
                                                    Asumir que todo está bien. <br/><em className="text-slate-500">Uso: Actuar como si pertenecieras al lugar (Tailgating).</em>
                                                </InfoCard>
                                            </div>
                                        </div>

                                        {/* Sesgos */}
                                        <div>
                                            <h3 className="text-xl font-bold text-white mb-4">Sesgos Cognitivos Explotables</h3>
                                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                                                {BIASES.map((bias, idx) => (
                                                    <div key={idx} className="bg-slate-900 border border-slate-700 p-4 rounded hover:bg-slate-800 transition-colors">
                                                        <h4 className="text-red-400 font-bold mb-1">{bias.title}</h4>
                                                        <p className="text-xs text-slate-300 mb-2">{bias.desc}</p>
                                                        <div className="text-xs font-mono bg-slate-950 p-2 rounded text-slate-500">
                                                            <span className="text-red-500">Trigger:</span> {bias.trigger}
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {psychTab === 'models' && (
                                    <div className="space-y-8 animate-fadeIn">
                                        {/* DISC Section */}
                                        <div>
                                            <h2 className="text-2xl font-bold text-white mb-4">Matriz DISC para Ingeniería Social</h2>
                                            <p className="text-slate-400 mb-6">Adapta el tono, ritmo y contenido del pretexto a la personalidad del target para maximizar el éxito.</p>
                                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                                {Object.entries(DISC_DATA).map(([key, data]) => (
                                                    <div key={key} className={`bg-slate-900 border ${data.border} p-6 rounded-lg h-full flex flex-col`}>
                                                        <div className="flex items-center justify-between mb-4">
                                                            <span className={`text-4xl font-black ${data.color}`}>{key}</span>
                                                        </div>
                                                        <h3 className={`text-xl font-bold text-white mb-2`}>{data.title}</h3>
                                                        <p className="text-slate-400 text-sm mb-4 flex-grow">{data.desc}</p>
                                                        <div className="bg-slate-950 p-3 rounded border border-slate-800 text-xs mb-2">
                                                            <span className="text-slate-500 font-bold block mb-1">TACTICA:</span>
                                                            <span className="text-white">{data.strat}</span>
                                                        </div>
                                                        <div className="text-xs font-mono text-slate-500">
                                                            <span className="text-white font-bold">Trigger:</span> {data.tactics}
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Cialdini */}
                                        <div className="bg-slate-900/50 border border-slate-800 rounded-lg p-6">
                                            <h3 className="text-xl font-bold text-white mb-4">Principios de Influencia (Cialdini)</h3>
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                                <ul className="space-y-3">
                                                    <li className="flex items-start"><div className="bg-blue-500 w-2 h-2 mt-2 mr-2 rounded-full"></div><div><strong className="text-white">Reciprocidad:</strong> Dar para recibir.</div></li>
                                                    <li className="flex items-start"><div className="bg-blue-500 w-2 h-2 mt-2 mr-2 rounded-full"></div><div><strong className="text-white">Compromiso y Consistencia:</strong> Deseo de ser coherente con lo dicho o hecho.</div></li>
                                                    <li className="flex items-start"><div className="bg-blue-500 w-2 h-2 mt-2 mr-2 rounded-full"></div><div><strong className="text-white">Prueba Social:</strong> Seguimos a la manada ante la incertidumbre.</div></li>
                                                    <li className="flex items-start"><div className="bg-blue-500 w-2 h-2 mt-2 mr-2 rounded-full"></div><div><strong className="text-white">Autoridad:</strong> Obediencia a títulos, uniformes o expertos.</div></li>
                                                </ul>
                                                <ul className="space-y-3">
                                                    <li className="flex items-start"><div className="bg-blue-500 w-2 h-2 mt-2 mr-2 rounded-full"></div><div><strong className="text-white">Simpatía (Liking):</strong> Decimos sí a quienes nos gustan o se parecen a nosotros.</div></li>
                                                    <li className="flex items-start"><div className="bg-blue-500 w-2 h-2 mt-2 mr-2 rounded-full"></div><div><strong className="text-white">Escasez:</strong> Valoramos más lo que es limitado o exclusivo.</div></li>
                                                    <li className="flex items-start"><div className="bg-blue-500 w-2 h-2 mt-2 mr-2 rounded-full"></div><div><strong className="text-white">Unidad:</strong> Identidad compartida ("Somos del mismo equipo").</div></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {psychTab === 'comm' && (
                                    <div className="space-y-8 animate-fadeIn">
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                                            {/* Verbal */}
                                            <div className="bg-slate-900 p-6 rounded-lg border border-slate-700">
                                                <h3 className="text-xl font-bold text-white mb-4 flex items-center">
                                                    <Icons.MessageSquare className="w-5 h-5 mr-2 text-green-500"/> Comunicación Verbal
                                                </h3>
                                                <div className="space-y-4 text-sm text-slate-300">
                                                    <div>
                                                        <h4 className="text-white font-bold mb-1">Uso Ofensivo</h4>
                                                        <ul className="list-disc pl-4 space-y-1">
                                                            <li>Ajustar ritmo y tono (Matching) para inducir confianza.</li>
                                                            <li>Uso de "Puentes Narrativos" para rellenar silencios incómodos.</li>
                                                            <li>Evitar muletillas que denoten duda.</li>
                                                        </ul>
                                                    </div>
                                                    <div>
                                                        <h4 className="text-white font-bold mb-1">Señales de Fuga (Detección)</h4>
                                                        <ul className="list-disc pl-4 space-y-1">
                                                            <li>Latencias excesivas antes de responder.</li>
                                                            <li>Uso de evasivas o responder con otra pregunta.</li>
                                                            <li>Exceso de detalles irrelevantes (sobre-explicación).</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>

                                            {/* No Verbal */}
                                            <div className="bg-slate-900 p-6 rounded-lg border border-slate-700">
                                                <h3 className="text-xl font-bold text-white mb-4 flex items-center">
                                                    <Icons.Eye className="w-5 h-5 mr-2 text-blue-500"/> Comunicación No Verbal
                                                </h3>
                                                <div className="space-y-4 text-sm text-slate-300">
                                                    <div>
                                                        <h4 className="text-white font-bold mb-1">Conceptos Clave</h4>
                                                        <ul className="list-disc pl-4 space-y-1">
                                                            <li><strong>Baseline:</strong> Establecer el comportamiento normal del target para detectar desviaciones.</li>
                                                            <li><strong>Microexpresiones:</strong> Fugas emocionales de milisegundos (miedo, desprecio).</li>
                                                            <li><strong>Congruencia:</strong> ¿Coincide lo que dice con su cuerpo?</li>
                                                        </ul>
                                                    </div>
                                                    <div>
                                                        <h4 className="text-white font-bold mb-1">Micro-tensiones</h4>
                                                        <p>Búsqueda de señales de estrés: frotarse el cuello, bloqueo visual, tocarse la cara, pies apuntando a la salida.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="bg-gradient-to-r from-slate-900 to-slate-800 p-6 rounded-lg border-l-4 border-green-500">
                                            <h3 className="text-lg font-bold text-white mb-2">Integración Operativa: Checklist</h3>
                                            <ul className="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-300 font-mono">
                                                <li className="flex items-center"><Icons.CheckCircle className="w-4 h-4 mr-2 text-green-500"/> Detectar perfil DISC en 30s.</li>
                                                <li className="flex items-center"><Icons.CheckCircle className="w-4 h-4 mr-2 text-green-500"/> Diseñar pretexto activando sesgo primario.</li>
                                                <li className="flex items-center"><Icons.CheckCircle className="w-4 h-4 mr-2 text-green-500"/> Controlar presentación (Voz/Cuerpo).</li>
                                                <li className="flex items-center"><Icons.CheckCircle className="w-4 h-4 mr-2 text-green-500"/> Evitar activación del Sistema 2 (Lógica).</li>
                                                <li className="flex items-center"><Icons.CheckCircle className="w-4 h-4 mr-2 text-green-500"/> Mantener OPSEC Psicológico (Coherencia).</li>
                                            </ul>
                                        </div>
                                    </div>
                                )}

                                {psychTab === 'training' && (
                                    <div className="flex flex-col items-center justify-center h-full animate-fadeIn">
                                        <div className="bg-slate-900 p-8 rounded-lg border border-slate-700 max-w-2xl w-full text-center">
                                            <div className="bg-red-600 p-4 rounded-full mx-auto w-16 h-16 flex items-center justify-center mb-6">
                                                <Icons.Brain className="text-white w-8 h-8" />
                                            </div>
                                            <h3 className="text-2xl font-bold text-white mb-2">Simulador de Perfilado Rápido</h3>
                                            <p className="text-slate-400 mb-8">
                                                Entrena tu capacidad para identificar perfiles DISC y sesgos cognitivos bajo presión de tiempo. 
                                            </p>
                                            
                                            <div className="bg-slate-800/50 p-4 rounded text-left border-l-2 border-red-500 mb-6">
                                                <p className="text-sm font-mono text-slate-300 mb-2">ESCENARIO:</p>
                                                <p className="text-white italic">"El objetivo te interrumpe constantemente, exige saber 'cuánto tardará esto' y no quiere escuchar excusas técnicas."</p>
                                            </div>

                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <button className="px-4 py-3 bg-slate-800 hover:bg-red-600 border border-slate-600 hover:border-red-500 rounded text-white transition-all font-bold">
                                                    Es Dominante (D) - Ser breve
                                                </button>
                                                <button className="px-4 py-3 bg-slate-800 hover:bg-slate-700 border border-slate-600 rounded text-white transition-all">
                                                    Es Estable (S) - Dar seguridad
                                                </button>
                                                <button className="px-4 py-3 bg-slate-800 hover:bg-slate-700 border border-slate-600 rounded text-white transition-all">
                                                    Es Influyente (I) - Usar humor
                                                </button>
                                                <button className="px-4 py-3 bg-slate-800 hover:bg-slate-700 border border-slate-600 rounded text-white transition-all">
                                                    Es Concienzudo (C) - Dar datos
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                    );

                case 4: // Vectores (Vishing)
                    return (
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-140px)]">
                        {/* Phone/Chat Simulator */}
                        <div className="lg:col-span-2 bg-slate-950 border border-slate-800 rounded-xl overflow-hidden flex flex-col relative">
                        <div className="bg-slate-900 p-4 border-b border-slate-800 flex justify-between items-center">
                            <div className="flex items-center text-red-500 animate-pulse">
                            <div className="w-2 h-2 bg-red-500 rounded-full mr-2"></div>
                            <span className="font-mono text-sm font-bold">Llamada en curso: +1 (555) 019-2834</span>
                            </div>
                            <div className="font-mono text-slate-500">00:45</div>
                        </div>
                        
                        {/* Chat Area */}
                        <div className="flex-grow p-6 space-y-4 overflow-y-auto bg-black/50">
                            <div className="flex justify-start">
                            <div className="bg-slate-800 text-slate-200 p-3 rounded-tr-lg rounded-br-lg rounded-bl-lg max-w-[80%] text-sm">
                                <span className="block text-xs text-slate-500 mb-1 font-bold">T (Target)</span>
                                ¿Aló? Habla Sarah de Recursos Humanos. ¿Quién llama?
                            </div>
                            </div>
                            <div className="flex justify-end">
                            <div className="bg-red-900/40 text-red-100 border border-red-900 p-3 rounded-tl-lg rounded-br-lg rounded-bl-lg max-w-[80%] text-sm">
                                <span className="block text-xs text-red-400 mb-1 font-bold text-right">YO (Operador)</span>
                                Hola Sarah. Soy Mark de Soporte IT. Tenemos una alerta de seguridad en tu cuenta de LinkedIn.
                            </div>
                            </div>
                            <div className="flex justify-start">
                            <div className="bg-slate-800 text-slate-200 p-3 rounded-tr-lg rounded-br-lg rounded-bl-lg max-w-[80%] text-sm">
                                <span className="block text-xs text-slate-500 mb-1 font-bold">T (Target)</span>
                                ¿LinkedIn? Pero esa es mi cuenta personal. ¿Por qué IT me llama por eso?
                            </div>
                            </div>
                            {vishingStep === 1 && (
                            <div className="flex justify-end animate-fadeIn">
                                <div className="bg-red-900/40 text-red-100 border border-red-900 p-3 rounded-tl-lg rounded-br-lg rounded-bl-lg max-w-[80%] text-sm">
                                Solo quería avisarte porque vimos un login desde Rusia. Si fuiste tú, ignóralo.
                                </div>
                            </div>
                            )}
                            {vishingStep === 1 && (
                            <div className="flex justify-start animate-fadeIn delay-500">
                                <div className="bg-slate-800 text-slate-200 p-3 rounded-tr-lg rounded-br-lg rounded-bl-lg max-w-[80%] text-sm">
                                <span className="block text-xs text-slate-500 mb-1 font-bold">T (Target)</span>
                                Ah... vale... gracias Mark. Sí, estuve de viaje la semana pasada, pero no en Rusia. ¿Qué debo hacer?
                                </div>
                            </div>
                            )}
                        </div>

                        {/* Action Buttons */}
                        <div className="p-4 bg-slate-900 border-t border-slate-800 grid grid-cols-2 gap-4">
                            {vishingStep === 0 ? (
                            <React.Fragment>
                                <button 
                                onClick={() => { setSuspicion(80); setRapport(0); }}
                                className="bg-slate-800 hover:bg-slate-700 text-slate-300 p-3 rounded text-sm text-left border border-slate-600 transition-colors"
                                >
                                <span className="block font-bold text-red-400 mb-1">A. [Autoridad]</span>
                                Citar política oscura (Riesgo: Alto)
                                </button>
                                <button 
                                onClick={() => { setSuspicion(20); setRapport(60); setVishingStep(1); }}
                                className="bg-slate-800 hover:bg-slate-700 text-slate-300 p-3 rounded text-sm text-left border border-slate-600 transition-colors"
                                >
                                <span className="block font-bold text-green-400 mb-1">B. [Ayuda]</span>
                                Ofrecer valor sin pedir nada (Generar confianza)
                                </button>
                            </React.Fragment>
                            ) : (
                            <div className="col-span-2 text-center text-green-400 font-mono py-2">
                                RAPPORT ESTABLECIDO. FASE 2 DESBLOQUEADA.
                            </div>
                            )}
                        </div>
                        </div>

                        {/* Analysis Panel */}
                        <div className="space-y-6">
                        <div className="bg-slate-900 p-4 rounded-lg border border-slate-700">
                            <h3 className="text-white font-bold mb-4">Estado del Objetivo</h3>
                            <ProgressBar label="Confianza (Rapport)" value={rapport} color="green" />
                            <ProgressBar label="Sospecha" value={suspicion} color="red" />
                        </div>

                        <div className="bg-slate-900 p-4 rounded-lg border border-slate-700">
                            <h3 className="text-white font-bold mb-2 text-sm uppercase">Notas del Operador</h3>
                            <p className="text-slate-400 text-xs font-mono mb-2">
                            El target parece ser tipo 'C' (Concienzudo). Cuestiona la lógica técnica. Evitar presión emocional directa.
                            </p>
                            <div className="flex gap-2 flex-wrap">
                            <span className="bg-slate-800 text-xs text-slate-300 px-2 py-1 rounded">#Skeptical</span>
                            <span className="bg-slate-800 text-xs text-slate-300 px-2 py-1 rounded">#TechSavvy</span>
                            </div>
                        </div>
                        </div>
                    </div>
                    );

                case 7: // APT Simulation
                    const scenario = APT_SCENARIOS.dreamjob;
                    const currentStep = scenario.steps.find(s => s.id === aptStep);

                    return (
                    <div className="max-w-4xl mx-auto h-full flex flex-col justify-center">
                        <div className="bg-slate-900 border border-red-900/50 rounded-xl overflow-hidden shadow-2xl">
                        <div className="bg-red-950/30 p-4 border-b border-red-900/30 flex justify-between items-center">
                            <div className="flex items-center gap-3">
                            <Icons.Terminal className="text-red-500 w-6 h-6" />
                            <div>
                                <h2 className="text-xl font-bold text-white tracking-widest">{scenario.title}</h2>
                                <span className="text-xs text-red-400 font-mono uppercase">{scenario.group}</span>
                            </div>
                            </div>
                            <div className="bg-black/50 px-3 py-1 rounded text-xs font-mono text-red-500 border border-red-900/50">
                            DEFCON: 1
                            </div>
                        </div>

                        <div className="p-8">
                            <div className="mb-8 font-mono text-green-500 text-sm border-l-2 border-green-500 pl-4 py-2 bg-green-900/10">
                            {scenario.description}
                            </div>

                            <div className="text-lg text-slate-200 leading-relaxed mb-8 min-h-[100px]">
                            {currentStep.text}
                            </div>

                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            {currentStep.options.map((opt, idx) => (
                                <button
                                key={idx}
                                onClick={() => setAptStep(opt.next)}
                                className="text-left bg-slate-800 hover:bg-slate-700 border border-slate-600 hover:border-red-500 p-4 rounded-lg transition-all group"
                                >
                                <span className="block text-xs text-slate-500 mb-1 group-hover:text-red-400 transition-colors">&gt; OPCIÓN {String.fromCharCode(65 + idx)}</span>
                                <span className="text-slate-200 text-sm font-mono">{opt.text}</span>
                                </button>
                            ))}
                            </div>
                        </div>
                        </div>
                    </div>
                    );

                default:
                    return (
                    <div className="flex items-center justify-center h-full text-slate-500 font-mono">
                        Módulo {modules[activeModule].name} en construcción...
                    </div>
                    );
                }
            };

            return (
                <div className="flex h-screen bg-slate-950 text-slate-200 overflow-hidden font-sans selection:bg-red-500/30 selection:text-white">
                {/* Sidebar */}
                <div 
                    className={`${sidebarOpen ? 'w-64' : 'w-20'} bg-slate-900 border-r border-slate-800 flex flex-col transition-all duration-300 z-20`}
                >
                    <div className="p-6 flex items-center justify-between border-b border-slate-800">
                    {sidebarOpen ? (
                        <div className="flex items-center gap-2">
                        <div className="w-8 h-8 bg-red-600 rounded flex items-center justify-center font-bold text-white">R</div>
                        <span className="font-bold text-xl tracking-tighter text-white">RED<span className="text-red-500">OPS</span></span>
                        </div>
                    ) : (
                        <div className="w-8 h-8 bg-red-600 rounded flex items-center justify-center font-bold text-white mx-auto">R</div>
                    )}
                    <button onClick={() => setSidebarOpen(!sidebarOpen)} className="text-slate-500 hover:text-white">
                        <Icons.Menu className="w-5 h-5" />
                    </button>
                    </div>

                    <nav className="flex-grow p-4 space-y-2 overflow-y-auto">
                    {modules.map((m) => (
                        <button
                        key={m.id}
                        onClick={() => setActiveModule(m.id)}
                        className={`w-full flex items-center p-3 rounded-lg transition-all group ${
                            activeModule === m.id 
                            ? 'bg-red-900/20 text-red-400 border border-red-900/50' 
                            : 'text-slate-400 hover:bg-slate-800 hover:text-white'
                        }`}
                        >
                        <m.icon className={`w-5 h-5 ${sidebarOpen ? 'mr-3' : 'mx-auto'} ${activeModule === m.id ? 'text-red-500' : ''}`} />
                        {sidebarOpen && <span className="font-mono text-sm">{m.short}: {m.name}</span>}
                        {!sidebarOpen && activeModule === m.id && <div className="absolute left-18 bg-slate-800 px-2 py-1 rounded text-xs ml-4 border border-slate-700">{m.name}</div>}
                        </button>
                    ))}
                    </nav>

                    <div className="p-4 border-t border-slate-800">
                    <div className={`flex items-center ${sidebarOpen ? 'justify-between' : 'justify-center'}`}>
                        {sidebarOpen && (
                        <div className="flex items-center gap-2">
                            <div className="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                            <span className="text-xs font-mono text-slate-500">Operador #4092</span>
                        </div>
                        )}
                        <div className="text-xs text-slate-600 font-mono">v1.0.4</div>
                    </div>
                    </div>
                </div>

                {/* Main Content Area */}
                <div className="flex-grow flex flex-col relative overflow-hidden bg-slate-950">
                    {/* Background Grid & Scanlines */}
                    <div className="absolute inset-0 pointer-events-none" 
                        style={{ 
                        backgroundImage: 'linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(255, 0, 0, 0.02))',
                        backgroundSize: '100% 2px, 3px 100%'
                        }}>
                    </div>
                    
                    {/* Top Header */}
                    <header className="h-16 border-b border-slate-800 flex items-center justify-between px-8 bg-slate-900/80 backdrop-blur-md z-10">
                    <div className="flex items-center text-slate-400 font-mono text-sm">
                        <span className="text-red-500 mr-2">//</span> DASHBOARD DE MISIONES
                    </div>
                    
                    <div className="flex items-center gap-6">
                        <div className="flex items-center bg-slate-800 px-3 py-1 rounded border border-slate-700">
                        <Icons.AlertTriangle className="w-4 h-4 text-yellow-500 mr-2" />
                        <span className="text-xs font-bold text-yellow-500 font-mono">DEFCON {defcon}</span>
                        </div>
                        <div className="flex gap-4">
                            <Icons.Search className="w-5 h-5 text-slate-400 cursor-pointer hover:text-white" />
                            <Icons.User className="w-5 h-5 text-slate-400 cursor-pointer hover:text-white" />
                        </div>
                    </div>
                    </header>

                    {/* Dynamic Module Content */}
                    <main className="flex-grow p-8 overflow-y-auto z-10 relative">
                        {renderModuleContent()}
                    </main>
                </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<RedOpsPortal />);
    </script>
</body>
</html>
